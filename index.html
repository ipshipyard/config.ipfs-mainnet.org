<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üß≠ IPFS Mainnet AutoConfig - Dynamic Configuration for IPFS Mainnet Swarm</title>
    <meta name="description" content="IPFS Mainnet AutoConfig hosts dynamic configuration for routing systems, bootstrap peers, DNS resolvers for special TLDs, and delegated endpoints in the IPFS Mainnet swarm.">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: #333;
            background: #fff;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        header {
            background: #f8f9fa;
            padding: 1rem 0;
            border-bottom: 1px solid #e9ecef;
        }

        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        h1 {
            color: #2d3748;
            font-size: 1.5rem;
        }

        .nav-links {
            display: flex;
            list-style: none;
            gap: 2rem;
        }

        .nav-links a {
            text-decoration: none;
            color: #4a5568;
            font-weight: 500;
        }

        .nav-links a:hover {
            color: #2d3748;
        }

        main {
            padding: 2rem 0;
        }

        section {
            margin-bottom: 4rem;
        }

        h2 {
            color: #2d3748;
            margin-bottom: 1.5rem;
            font-size: 2.25rem;
            font-weight: 600;
        }

        h3 {
            color: #333;
            margin-bottom: 1rem;
            font-size: 1.5rem;
            font-weight: 600;
        }

        h4 {
            color: #333;
            margin-bottom: 0.5rem;
            font-size: 1.25rem;
            font-weight: 600;
        }

        p {
            margin-bottom: 1rem;
            color: #333;
        }

        .hero {
            text-align: center;
            padding: 4rem 0;
            background: #f8f9fa;
            margin-bottom: 4rem;
        }

        .hero h2 {
            font-size: 3rem;
            margin-bottom: 1.5rem;
            font-weight: 700;
        }

        .lead {
            font-size: 1.25rem;
            margin-bottom: 2rem;
        }

        .btn {
            display: inline-block;
            padding: 0.75rem 1.5rem;
            background: #3182ce;
            color: white;
            text-decoration: none;
            border-radius: 0.375rem;
            font-weight: 500;
            border: 1px solid #3182ce;
            box-sizing: border-box;
            line-height: 1;
        }

        .btn:hover {
            background: #2c5282;
        }

        .url-input-group {
            display: flex;
            gap: 0.5rem;
            align-items: center;
            justify-content: center;
            max-width: 700px;
            margin: 0 auto;
            flex-wrap: wrap;
        }

        @media (min-width: 769px) {
            .url-input-group {
                flex-wrap: nowrap;
            }
        }

        .button-group {
            display: flex;
            gap: 0.5rem;
            flex-shrink: 0;
        }

        .url-input {
            width: 400px;
            padding: 0.75rem;
            border: 1px solid #e2e8f0;
            border-radius: 0.375rem;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 0.875rem;
            background: #f7fafc;
        }

        .url-input:focus {
            outline: none;
            border-color: #3182ce;
            box-shadow: 0 0 0 2px rgba(49, 130, 206, 0.1);
        }

        .btn-secondary {
            background: #4a5568;
            color: white;
            padding: 0.75rem 1.5rem;
            border: 1px solid #4a5568;
            border-radius: 0.375rem;
            font-weight: 500;
            cursor: pointer;
            text-decoration: none;
            display: inline-block;
            box-sizing: border-box;
            line-height: 1;
        }

        .btn-secondary:hover {
            background: #2d3748;
            border-color: #2d3748;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin: 2rem 0;
        }

        .feature-card {
            padding: 1.5rem;
            border: 1px solid #e2e8f0;
            border-radius: 0.5rem;
            text-align: center;
        }

        .feature-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }

        .code-block {
            background: #f7fafc;
            border: 1px solid #e2e8f0;
            border-radius: 0.5rem;
            overflow-x: auto;
            margin: 1.5rem 0;
        }

        .code-header {
            background: #edf2f7;
            padding: 0.75rem 1rem;
            border-bottom: 1px solid #e2e8f0;
            font-weight: 500;
        }

        pre {
            padding: 1rem;
            margin: 0;
            white-space: pre-wrap;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 0.875rem;
        }

        .config-sections {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .config-section {
            padding: 1.5rem;
            background: #f8f9fa;
            border-radius: 0.5rem;
        }

        .config-section h4 code {
            background: #e2e8f0;
            color: #2d3748;
            padding: 0.25rem 0.5rem;
            border-radius: 0.25rem;
            font-size: 1.1rem;
            font-weight: 600;
            display: inline-block;
            margin-bottom: 0.5rem;
        }

        .process-steps {
            counter-reset: step-counter;
            list-style: none;
        }

        .process-steps li {
            counter-increment: step-counter;
            margin-bottom: 1.5rem;
            padding-left: 3rem;
            position: relative;
        }

        .process-steps li::before {
            content: counter(step-counter);
            position: absolute;
            left: 0;
            top: 0;
            background: #e2e8f0;
            color: #4a5568;
            width: 1.75rem;
            height: 1.75rem;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.875rem;
            font-weight: bold;
        }

        .status-banner {
            background: #fffbf0;
            border: 1px solid #f6e05e;
            border-radius: 0.75rem;
            padding: 2rem;
            margin: 2rem 0;
        }

        .status-banner a {
            color: #117eb3;
            text-decoration: none;
        }

        .status-banner a:hover {
            color: #0b3a53;
            text-decoration: underline;
        }

        .status-banner a:visited {
            color: #117eb3;
        }

        .ecosystem-section {
            padding: 1rem;
            margin: 0.75rem 0;
        }

        .ecosystem-section h4 {
            color: #0b3a53;
            margin-bottom: 0.5rem;
            font-weight: 600;
        }

        .ecosystem-section ul {
            margin: 0;
            padding-left: 0;
            list-style: none;
        }

        .ecosystem-section li {
            margin-bottom: 0.25rem;
            position: relative;
            padding-left: 1.5rem;
        }

        .ecosystem-section li::before {
            content: "‚òê";
            position: absolute;
            left: 0;
            color: #4a5568;
            font-size: 1rem;
        }

        code {
            background: #f7fafc;
            color: #2d3748;
            padding: 0.125rem 0.25rem;
            border-radius: 0.25rem;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 0.875rem;
        }

        ul, ol {
            margin-bottom: 1rem;
            padding-left: 2rem;
        }

        li {
            margin-bottom: 0.5rem;
        }

        footer {
            background: #2d3748;
            color: white;
            padding: 2rem 0;
            margin-top: 3rem;
        }

        footer p {
            color: white;
        }

        footer a {
            color: #cbd5e0;
            text-decoration: none;
        }

        footer a:hover {
            color: white;
        }

        .footer-bottom {
            text-align: center;
            color: #a0aec0;
        }

        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }

            .hero h2 {
                font-size: 2rem;
            }

            .feature-grid {
                grid-template-columns: 1fr;
            }

            .url-input {
                width: 100%;
                max-width: 300px;
            }
        }
    </style>
</head>
<body>
    <!-- Alpha/Under Construction Banner -->
    <div style="background: #ff6b6b; color: white; padding: 1rem; text-align: center; font-weight: 600; position: relative;">
        <div style="max-width: 1200px; margin: 0 auto; padding: 0 20px;">
            üöß <strong>ALPHA</strong> - This site and JSON format are under construction and for early feedback only. Features and content may change. 
            <a href="https://github.com/ipshipyard/config.ipfs-mainnet.org/issues" style="color: white; text-decoration: underline; margin-left: 0.5rem;">Submit feedback ‚Üí</a>
        </div>
    </div>
    <header>
        <nav class="container">
            <h1>üß≠ IPFS Mainnet AutoConfig</h1>
            <ul class="nav-links">
                <li><a href="#overview">Overview</a></li>
                <li><a href="#schema">Format</a></li>
                <li><a href="#systems">Systems</a></li>
                <li><a href="#implementation">Implementations</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section class="hero">
            <div class="container">
                <h2>Dynamic Configuration<br>for IPFS Mainnet</h2>
                <p class="lead">Updateable system registry for routing systems, bootstrap peers, special TLD resolvers, and delegated endpoints.</p>
                <div class="url-input-group">
                    <input type="text" class="url-input" value="https://config.ipfs-mainnet.org/autoconfig.json" readonly>
                    <button class="btn-secondary" onclick="copyUrl()">Copy</button>
                    <div class="button-group">
                        <a href="/autoconfig.json" class="btn" target="_blank">View</a>
                        <a href="/autoconfig.json" class="btn" download target="_blank">Download</a>
                    </div>
                </div>
            </div>
        </section>

        <section id="overview">
            <div class="container">
                <h2>Overview</h2>
                <p>IPFS Mainnet AutoConfig provides a standardized, extensible configuration format for IPFS implementations to discover and configure routing systems, bootstrap peers, DNS resolvers for special TLDs, and delegated endpoints dynamically.</p>

                <h3>What is AutoConfig?</h3>
                <p>This version introduces a system-centric approach that moves away from hardcoded profiles to a flexible registry where routing systems declare their capabilities and endpoints specify which systems they support. This enables:</p>
                
                <ul>
                    <li><strong>Dynamic System Discovery:</strong> New routing systems can be added without breaking existing clients</li>
                    <li><strong>Future-Proof API Versioning:</strong> Endpoints can support multiple API versions simultaneously</li>
                    <li><strong>Clear Separation:</strong> Native configuration (bootstrap peers) vs delegated configuration (HTTP endpoints)</li>
                    <li><strong>Client Choice:</strong> Implementations decide whether to use native or delegated routing per system</li>
                    <li><strong>API Compatibility:</strong> Clients ignore unknown APIs and use only the endpoints they understand</li>
                </ul>

                <h3>Key Principles</h3>
                <ol class="process-steps">
                    <li><strong>Extensibility:</strong> Unknown APIs are safely ignored, allowing gradual ecosystem evolution</li>
                    <li><strong>Endpoint-Level Capabilities:</strong> Each endpoint declares exactly which APIs it supports</li>
                    <li><strong>Configurable Caching:</strong> Clients cache configurations locally based on CacheTTL with a maximum of 24 hours</li>
                </ol>
            </div>
        </section>

        <section id="schema">
            <div class="container">
                <h2>Configuration Format</h2>
                <p>The AutoConfig format consists of the following sections that work together to provide comprehensive routing configuration:</p>

                <div class="config-sections">
                    <div class="config-section">
                        <h4><code>AutoConfigVersion</code></h4>
                        <p><strong>Purpose:</strong> Timestamp-based version identifier (YYYYMMDDNN format), similar to DNS SOA sequence numbers</p>
                        <p><strong>Usage:</strong> Clients use this to determine if they have the latest configuration</p>
                        <p><strong>Example:</strong> <code>2025072801</code> (January 28, 2025, version 01)</p>
                    </div>

                    <div class="config-section">
                        <h4><code>AutoConfigSchema</code></h4>
                        <p><strong>Purpose:</strong> Schema version number for breaking changes</p>
                        <p><strong>Usage:</strong> Allows clients to handle different config formats</p>
                        <p><strong>Current:</strong> <code>4</code></p>
                    </div>

                    <div class="config-section">
                        <h4><code>CacheTTL</code></h4>
                        <p><strong>Purpose:</strong> Cache duration in seconds</p>
                        <p><strong>Usage:</strong> A hint that clients should cache config for this duration (capped at 24 hours maximum), clients can override this hint but only as explicit user opt-in</p>
                        <p><strong>Default:</strong> <code>86400</code> (24 hours)</p>
                    </div>

                    <div class="config-section">
                        <h4><code>SystemRegistry</code></h4>
                        <p><strong>Purpose:</strong> Discovery registry of all routing systems</p>
                        <p><strong>Contains:</strong> System metadata, native configuration, and delegated API capabilities</p>
                        <p><strong>Usage:</strong> Clients check here to understand system capabilities</p>
                    </div>

                    <div class="config-section">
                        <h4><code>DNSResolvers</code></h4>
                        <p><strong>Purpose:</strong> DNS-over-HTTPS resolvers for special TLDs</p>
                        <p><strong>Usage:</strong> Resolving non-ICANN domains like .eth</p>
                        <p><strong>Format:</strong> Maps eTLD to array of DoH endpoints</p>
                        <p><strong>Note:</strong> Implementations use default resolver from the OS or explicitly choose DoH resolver (e.g. in browsers)</p>
                    </div>

                    <div class="config-section">
                        <h4><code>DelegatedEndpoints</code></h4>
                        <p><strong>Purpose:</strong> HTTP endpoints that provide routing services via delegation</p>
                        <p><strong>Contains:</strong> Endpoint URL, supported systems, Read/Write API paths</p>
                        <p><strong>Usage:</strong> Clients use these when they don't have native system support</p>
                    </div>

                </div>

            </div>
        </section>

        <section id="systems">
            <div class="container">
                <h2>Well Known Routing Systems</h2>
                <p>The registry defines routing systems with their capabilities and access methods:</p>
                
                <div class="routing-legend">
                    <h3>System Routing Types</h3>
                    <p class="legend-intro">IPFS routing systems can operate in different modes depending on client capabilities and requirements:</p>
                    <div class="legend-items">
                        <div class="legend-item">
                            <span class="legend-icon">üîå</span>
                            <div class="legend-content">
                                <span class="legend-badge type-native">Native</span>
                                <div class="legend-description">
                                    <strong>Direct implementation within the client</strong><br>
                                    Examples: DHT participation, local DNS resolver<br>
                                    <em>Best for: Full nodes, daemons with persistent connectivity</em>
                                </div>
                            </div>
                        </div>
                        <div class="legend-item">
                            <span class="legend-icon">üåê</span>
                            <div class="legend-content">
                                <span class="legend-badge type-delegated">Delegated</span>
                                <div class="legend-description">
                                    <strong>Access via HTTP endpoints</strong><br>
                                    Used when native support is unavailable or impractical<br>
                                    <em>Best for: Browsers, mobile apps, resource-constrained environments</em>
                                </div>
                            </div>
                        </div>
                        <div class="legend-item">
                            <span class="legend-icon">üîÄ</span>
                            <div class="legend-content">
                                <span class="legend-badge type-both">Hybrid</span>
                                <div class="legend-description">
                                    <strong>Both native and delegated support available</strong><br>
                                    Clients choose based on their capabilities and constraints<br>
                                    <em>Best for: Flexible implementations that adapt to environment</em>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="flow-diagram">
                    <h3>Implementation Decision Flow</h3>
                    <div class="flow-container">
                        <div class="flow-step">
                            <div class="flow-question">Does your client support native implementation?</div>
                            <div class="flow-branches">
                                <div class="flow-branch flow-yes">
                                    <div class="flow-arrow">YES</div>
                                    <div class="flow-result native-result">
                                        <span class="flow-icon">üîå</span>
                                        <div class="flow-text">
                                            <strong>Use Native Config</strong>
                                            <small>Bootstrap peers, direct DHT participation</small>
                                        </div>
                                    </div>
                                </div>
                                <div class="flow-branch flow-no">
                                    <div class="flow-arrow">NO</div>
                                    <div class="flow-result delegated-result">
                                        <span class="flow-icon">üåê</span>
                                        <div class="flow-text">
                                            <strong>Use Delegated Endpoints</strong>
                                            <small>HTTP routing via configured endpoints</small>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <style>
                    .systems-table {
                        width: 100%;
                        border-collapse: collapse;
                        margin: 1.5rem 0;
                        background: #f8f9fa;
                        border-radius: 0.5rem;
                        overflow: hidden;
                    }
                    .systems-table th {
                        background: #e9ecef;
                        padding: 0.75rem;
                        text-align: left;
                        font-weight: 600;
                        border-bottom: 2px solid #dee2e6;
                    }
                    .systems-table td {
                        padding: 0.75rem;
                        border-bottom: 1px solid #e9ecef;
                    }
                    .systems-table tr:last-child td {
                        border-bottom: none;
                    }
                    .system-name {
                        font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
                        font-weight: 600;
                        color: #2d3748;
                    }
                    .system-type {
                        display: inline-block;
                        padding: 0.2rem 0.5rem;
                        border-radius: 0.25rem;
                        font-size: 0.75rem;
                        font-weight: 600;
                    }
                    .type-native {
                        background: #d1fae5;
                        color: #065f46;
                    }
                    .type-delegated {
                        background: #dbeafe;
                        color: #1e40af;
                    }
                    .type-both {
                        background: #fef3c7;
                        color: #92400e;
                    }
                    .api-list {
                        font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
                        font-size: 0.75rem;
                        color: #4a5568;
                    }

                    .routing-legend {
                        background: #f8f9fa;
                        border: 1px solid #e2e8f0;
                        border-radius: 0.75rem;
                        padding: 1.5rem;
                        margin: 2rem 0;
                    }

                    .routing-legend h3 {
                        margin-bottom: 1rem;
                        color: #2d3748;
                        font-size: 1.25rem;
                    }

                    .legend-intro {
                        color: #4a5568;
                        margin-bottom: 1.5rem;
                        font-style: italic;
                    }

                    .legend-items {
                        display: flex;
                        flex-direction: column;
                        gap: 1.5rem;
                    }

                    .legend-item {
                        display: flex;
                        align-items: flex-start;
                        gap: 1rem;
                        padding: 1rem;
                        background: #ffffff;
                        border-radius: 0.5rem;
                        border: 1px solid #e2e8f0;
                    }

                    .legend-icon {
                        font-size: 1.5rem;
                        width: 2rem;
                        text-align: center;
                        flex-shrink: 0;
                        margin-top: 0.25rem;
                    }

                    .legend-content {
                        flex: 1;
                    }

                    .legend-badge {
                        display: inline-block;
                        padding: 0.25rem 0.75rem;
                        border-radius: 0.25rem;
                        font-size: 0.875rem;
                        font-weight: 600;
                        margin-bottom: 0.5rem;
                    }

                    .legend-description {
                        color: #4a5568;
                        font-size: 0.875rem;
                        line-height: 1.5;
                    }

                    .legend-description strong {
                        color: #2d3748;
                        display: block;
                        margin-bottom: 0.25rem;
                    }

                    .legend-description em {
                        color: #718096;
                        font-size: 0.8rem;
                    }

                    @media (min-width: 1024px) {
                        .legend-items {
                            display: grid;
                            grid-template-columns: repeat(3, 1fr);
                            gap: 1rem;
                        }
                        
                        .legend-item {
                            flex-direction: column;
                            text-align: center;
                            align-items: center;
                        }
                        
                        .legend-icon {
                            margin-bottom: 0.5rem;
                        }
                    }

                    .flow-diagram {
                        background: #ffffff;
                        border: 2px solid #e2e8f0;
                        border-radius: 0.75rem;
                        padding: 1.5rem;
                        margin: 2rem 0;
                    }

                    .flow-diagram h3 {
                        margin-bottom: 1.5rem;
                        color: #2d3748;
                        font-size: 1.25rem;
                        text-align: center;
                    }

                    .flow-container {
                        display: flex;
                        justify-content: center;
                    }

                    .flow-step {
                        text-align: center;
                        max-width: 600px;
                    }

                    .flow-question {
                        background: #edf2f7;
                        padding: 1rem;
                        border-radius: 0.5rem;
                        font-weight: 600;
                        color: #2d3748;
                        margin-bottom: 1.5rem;
                        border: 2px solid #cbd5e0;
                    }

                    .flow-branches {
                        display: flex;
                        gap: 2rem;
                        justify-content: center;
                    }

                    .flow-branch {
                        flex: 1;
                        max-width: 200px;
                    }

                    .flow-arrow {
                        background: #4a5568;
                        color: white;
                        padding: 0.5rem 1rem;
                        border-radius: 1rem;
                        font-weight: 600;
                        font-size: 0.875rem;
                        margin-bottom: 1rem;
                        display: inline-block;
                    }

                    .flow-result {
                        padding: 1rem;
                        border-radius: 0.5rem;
                        border: 2px solid;
                        display: flex;
                        align-items: center;
                        gap: 0.75rem;
                        text-align: left;
                    }

                    .native-result {
                        background: #f0fff4;
                        border-color: #68d391;
                    }

                    .delegated-result {
                        background: #f0f9ff;
                        border-color: #63b3ed;
                    }

                    .flow-icon {
                        font-size: 1.5rem;
                        flex-shrink: 0;
                    }

                    .flow-text strong {
                        display: block;
                        color: #2d3748;
                        margin-bottom: 0.25rem;
                    }

                    .flow-text small {
                        color: #4a5568;
                        font-size: 0.75rem;
                    }

                    @media (max-width: 640px) {
                        .flow-branches {
                            flex-direction: column;
                            gap: 1rem;
                        }
                        
                        .flow-branch {
                            max-width: none;
                        }
                    }

                    .routing-card-icon {
                        font-size: 2.5rem;
                        margin-bottom: 1rem;
                    }

                    .routing-card-native {
                        background: linear-gradient(135deg, #f0fff4 0%, #ffffff 100%);
                        border-color: #68d391;
                    }

                    .routing-card-delegated {
                        background: linear-gradient(135deg, #f0f9ff 0%, #ffffff 100%);
                        border-color: #63b3ed;
                    }

                    .routing-card-both {
                        background: linear-gradient(135deg, #fffbf0 0%, #ffffff 100%);
                        border-color: #f6e05e;
                    }

                    .code-block-native {
                        border-left: 4px solid #68d391;
                    }

                    .code-block-delegated {
                        border-left: 4px solid #63b3ed;
                    }

                    .code-block-mixed {
                        border-left: 4px solid #f6e05e;
                    }

                    .code-header-native::before {
                        content: "üîå ";
                        color: #38a169;
                    }

                    .code-header-delegated::before {
                        content: "üåê ";
                        color: #3182ce;
                    }

                    .code-header-mixed::before {
                        content: "üîÄ ";
                        color: #d69e2e;
                    }
                </style>

                <table class="systems-table">
                    <thead>
                        <tr>
                            <th>System</th>
                            <th>Type</th>
                            <th>Purpose</th>
                            <th>APIs</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><a href="https://github.com/ipfs/specs/pull/497" class="system-name">AminoDHT</a></td>
                            <td><span class="system-type type-both">üîÄ Native + Delegated</span></td>
                            <td>P2P content and peer routing via Kademlia DHT</td>
                            <td class="api-list">/routing/v1/{providers,peers,ipns} (R/W for ipns)</td>
                        </tr>
                        <tr>
                            <td><a href="https://cid.contact" class="system-name">IPNI</a></td>
                            <td><span class="system-type type-delegated">üåê Delegated Only</span></td>
                            <td>Fast content discovery from large storage providers</td>
                            <td class="api-list">/routing/v1/providers</td>
                        </tr>
                        <tr>
                            <td><a href="https://example.com" class="system-name">Example</a></td>
                            <td><span class="system-type type-delegated">üåê Delegated Only</span></td>
                            <td>Test system for verifying graceful handling of unknown APIs</td>
                            <td class="api-list">/example/v0/{read,write}</td>
                        </tr>
                    </tbody>
                </table>


                <h3>Adding New Systems</h3>
                <p>The schema supports gradual ecosystem evolution: add systems to the registry with their API paths, update endpoints to declare support, and existing clients will ignore unknown APIs while new clients can leverage them immediately.</p>
                
                <p>This extensibility mechanism allows IPFS Mainnet to introduce new routing systems by providing delegated HTTP adapters that existing software can understand and query. For example, a novel routing system can be deployed with HTTP endpoints that speak the standard routing protocols, enabling immediate adoption without requiring native implementation support from existing IPFS clients. This approach enables:</p>
                
                <ul>
                    <li><strong>Zero-friction deployment:</strong> New systems work immediately with all existing IPFS implementations that support delegated routing</li>
                    <li><strong>Gradual native adoption:</strong> Implementations can add native support over time while using delegation as a bridge</li>
                    <li><strong>Innovation without fragmentation:</strong> Experimental routing systems can be tested in production without breaking compatibility</li>
                    <li><strong>Backward compatibility:</strong> Older clients continue working, simply ignoring systems they don't recognize</li>
                </ul>

                <h3>Client Implementation</h3>
                <p>Clients should process the configuration by checking available systems, determining native vs delegated routing support, and configuring DNS resolvers for special TLDs.</p>

                <h3>API Versioning Strategy</h3>
                <p>Delegated utility servers can support multiple API versions simultaneously:</p>

                <div class="code-block code-block-delegated">
                    <div class="code-header code-header-delegated">API Version Evolution Example</div>
                    <pre>{
  "DelegatedEndpoints": {
    "https://future-endpoint.example": {
      "Systems": ["AminoDHT", "NewSystem"],
      "Read": [
        "/routing/v1/providers",    // Legacy API
        "/routing/v2/providers",    // Enhanced API
        "/routing/v2/content"       // New capability
      ],
      "Write": [
        "/routing/v1/ipns",         // Legacy publishing
        "/routing/v2/ipns"          // Enhanced publishing
      ]
    }
  }
}</pre>
                </div>
            </div>
        </section>

        <section id="implementation">
            <div class="container">
                <h2>Implementations Status</h2>
                <div class="status-banner">
                    <div>
                        <h3>üöß Work in Progress</h3>
                        <p>IPFS Mainnet AutoConfig support is under active development for integration into IPFS implementation ecosystems:</p>
                        <div class="ecosystem-section">
                            <h4><a href="https://github.com/ipfs/boxo">Boxo</a> (Go ecosystem)</h4>
                            <ul>
                                <li><a href="https://github.com/ipfs/kubo">Kubo</a> - Go implementation (<a href="https://github.com/ipfs/kubo/pull/10883">PR #10883</a>)</li>
                                <li><a href="https://github.com/ipfs/rainbow/">Rainbow</a> - HTTP gateway implementation</li>
                                <li><a href="https://github.com/ipfs-shipyard/someguy">Someguy</a> - Delegated routing service</li>
                            </ul>
                        </div>
                        <div class="ecosystem-section">
                            <h4><a href="https://github.com/ipfs/helia">Helia</a> (JavaScript ecosystem)</h4>
                            <ul>
                                <li><a href="https://github.com/ipfs/service-worker-gateway">Service Worker Gateway</a></li>
                                <li><a href="https://github.com/ipfs/helia-verified-fetch">Helia Verified Fetch</a></li>
                            </ul>
                        </div>
                    </div>
                </div>

                <h4>Processing Algorithm</h4>
                <div class="code-block code-block-mixed">
                    <div class="code-header code-header-mixed">Pseudo-code</div>
                    <pre>// 1. Check SystemRegistry for available routing systems
for system in autoconfig.SystemRegistry:
    if client.supportsNative(system):
        // Use native implementation with NativeConfig
        client.configureNative(system, autoconfig.SystemRegistry[system].NativeConfig)
    else:
        // Use delegated routing via HTTP endpoints
        for endpoint in autoconfig.DelegatedEndpoints:
            if system in endpoint.Systems:
                // Filter to only APIs this client recognizes
                supportedReadAPIs = client.filterKnownAPIs(endpoint.Read)
                supportedWriteAPIs = client.filterKnownAPIs(endpoint.Write)
                // Configure delegated routing using only supported APIs
                client.configureDelegated(system, endpoint, supportedReadAPIs, supportedWriteAPIs)

// 2. Configure DNS resolvers for special TLDs
// Note: Implementations use OS default or explicit DoH resolver
for etld, resolvers in autoconfig.DNSResolvers:
    client.configureDNS(etld, resolvers)</pre>
                </div>

                <h4>Example Implementation</h4>

                <div class="code-block code-block-mixed">
                    <div class="code-header code-header-mixed">JavaScript Client Example</div>
                    <pre>async function configureIPFS() {
    // Fetch AutoConfig
    const response = await fetch('https://config.ipfs-mainnet.org/autoconfig.json');
    const autoconfig = await response.json();
    
    // Cache for minimum of 24 hours or CacheTTL from config
    const maxCacheSeconds = 24 * 60 * 60; // 24 hours
    const cacheTTL = Math.min(maxCacheSeconds, autoconfig.CacheTTL || maxCacheSeconds);
    localStorage.setItem('ipfs-autoconfig', JSON.stringify({
        data: autoconfig,
        expires: Date.now() + (cacheTTL * 1000)
    }));
    
    // Define which systems this client supports natively
    const nativeSystems = ['AminoDHT']; // This client has native DHT support
    
    // Configure routing systems
    for (const [systemName, systemConfig] of Object.entries(autoconfig.SystemRegistry)) {
        if (nativeSystems.includes(systemName)) {
            // Use native implementation
            if (systemName === 'AminoDHT' && canRunDHT()) {
                configureNativeDHT(systemConfig.NativeConfig.Bootstrap);
            }
        } else {
            // Delegate to HTTP endpoints for unsupported systems
            for (const [url, endpoint] of Object.entries(autoconfig.DelegatedEndpoints)) {
                if (endpoint.Systems.includes(systemName)) {
                    configureDelegatedRouting(systemName, url, endpoint);
                }
            }
        }
    }
    
    // Configure DNS resolvers for special TLDs
    // Note: Use OS default resolver or explicit DoH for general domains
    for (const [etld, resolvers] of Object.entries(autoconfig.DNSResolvers)) {
        configureDNSResolver(etld, resolvers);
    }
}</pre>
                </div>

                <h3>Implementation Guidance</h3>
                <p>Different IPFS implementations have different constraints and capabilities. Here are recommendations for common deployment scenarios:</p>

                <div class="feature-grid">
                    <div class="feature-card">
                        <h4>üåê Browser Implementations</h4>
                        <p><strong>Constraints:</strong> Limited networking, no raw sockets, CORS restrictions</p>
                        <p><strong>Recommendations:</strong></p>
                        <ul style="text-align: left; padding-left: 1.5rem;">
                            <li>Prefer delegated routing for all systems</li>
                            <li>Use HTTPS endpoints exclusively</li>
                            <li>Implement aggressive caching</li>
                            <li>Consider service worker integration</li>
                        </ul>
                        <div class="code-block code-block-delegated" style="margin-top: 1rem;">
                            <pre style="text-align: left;">// Browser-optimized configuration
const browserDefaults = {
    preferDelegated: ['AminoDHT', 'IPNI'],
    enableNative: [] // No native routing in browsers
};</pre>
                        </div>
                    </div>

                    <div class="feature-card">
                        <h4>üñ•Ô∏è Daemon Implementations</h4>
                        <p><strong>Capabilities:</strong> Full networking, persistent storage, background processing</p>
                        <p><strong>Recommendations:</strong></p>
                        <ul style="text-align: left; padding-left: 1.5rem;">
                            <li>Prefer native DHT participation</li>
                            <li>Use delegated routing for specialized systems (IPNI)</li>
                            <li>Enable both TCP and QUIC transports</li>
                            <li>Participate in content providing (native AminoDHT only)</li>
                        </ul>
                        <div class="code-block code-block-mixed" style="margin-top: 1rem;">
                            <pre style="text-align: left;">// Daemon-optimized configuration
const daemonDefaults = {
    preferNative: ['AminoDHT'],
    preferDelegated: ['IPNI'],
    enableProviding: true // Only works with native AminoDHT
};</pre>
                        </div>
                    </div>

                    <div class="feature-card">
                        <h4>üì± Mobile/Resource-Constrained</h4>
                        <p><strong>Constraints:</strong> Battery life, bandwidth limits, intermittent connectivity</p>
                        <p><strong>Recommendations:</strong></p>
                        <ul style="text-align: left; padding-left: 1.5rem;">
                            <li>Hybrid approach based on network type</li>
                            <li>Delegated routing on cellular</li>
                            <li>Optional native DHT on WiFi</li>
                            <li>Aggressive connection pruning</li>
                        </ul>
                        <div class="code-block code-block-mixed" style="margin-top: 1rem;">
                            <pre style="text-align: left;">// Mobile-optimized configuration
const mobileDefaults = {
    preferDelegated: ['AminoDHT', 'IPNI'],
    enableNativeOnWifi: ['AminoDHT'],
    maxConnections: 50
};</pre>
                        </div>
                    </div>
                </div>

                <h4>Platform-Specific Considerations</h4>
                <p>Implementers should make these decisions at build time based on their target platform rather than reading them from the autoconfig. The autoconfig provides the <em>what</em> (available systems and endpoints), while your implementation decides the <em>how</em> (native vs delegated routing).</p>

                <div class="code-block code-block-mixed">
                    <div class="code-header code-header-mixed">Implementation Decision Tree</div>
                    <pre>// Instead of reading profiles from autoconfig, hard-code platform decisions:
function getRoutingStrategy() {
    if (typeof window !== 'undefined' && !window.require) {
        // Browser environment
        return { preferDelegated: true };
    } else if (process.env.IPFS_LITE_MODE) {
        // Resource-constrained environment
        return { preferDelegated: true, maxConnections: 50 };
    } else {
        // Full daemon environment
        return { preferNative: true, enableProviding: true }; // Providing requires native AminoDHT
    }
}</pre>
                </div>

                <p>This approach provides clearer separation between configuration data (what services are available) and implementation decisions (how to use those services), making both the autoconfig and implementations simpler and more maintainable.</p>
            </div>
        </section>

    </main>

    <footer>
        <div class="container">
            <div class="footer-bottom">
                <p>This page is a public good maintained by <a href="https://ipshipyard.com/">üö¢ Shipyard</a>.</p>
            </div>
        </div>
    </footer>

    <script>
        function copyUrl() {
            const input = document.querySelector('.url-input');
            input.select();
            input.setSelectionRange(0, 99999); // For mobile devices
            navigator.clipboard.writeText(input.value).then(() => {
                const button = document.querySelector('.btn-secondary');
                const originalText = button.textContent;
                button.textContent = 'Copied!';
                setTimeout(() => {
                    button.textContent = originalText;
                }, 2000);
            });
        }
    </script>
</body>
</html>